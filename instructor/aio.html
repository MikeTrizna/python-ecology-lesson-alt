<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Data Management with Python for Ecologists: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [ ['$','$'], ['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="manifest" href="../site.webmanifest">
<link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav data"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo"><img alt="Data Carpentry" src="../assets/images/data-logo.svg"></div>
    </div>
    <div class="selector-container ">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../aio.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="../assets/images/data-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Data Management with Python for Ecologists
    </div>
    <div class="search-icon-sm">
      <i role="img" aria-label="search button" data-feather="search"></i>
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Data Management with Python for Ecologists
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="profiles.html">Learner Profiles</a></li>
          </ul>
</li>
      </ul>
</div>
    <form class="d-flex col-md-2 search-form">
      <input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit"><i class="search-icon" data-feather="search" role="img" aria-label="search button"></i></button>
    </form>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Data Management with Python for Ecologists
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
  <div id="sidebar-col" class="col-lg-4">
    <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle"><i class="search-icon" data-feather="x" role="img"></i></button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../aio.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->
      
            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  CHAPTERS
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introducing-python.html">1. Introducing Python</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-introducing-pandas.html">2. Introducing pandas</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-accessing-data-in-a-dataframe.html">3. Accessing Data in a Dataframe</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-aggregating-and-grouping-data.html">4. Aggregating and Grouping Data</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-combining-data-with-joins.html">5. Combining Dataframes</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li><a href="profiles.html">Learner Profiles</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>

            <a href="../instructor/aio.html">See all in one page</a>

            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">
            
            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-introducing-python"><p>Content from <a href="01-introducing-python.html">Introducing Python</a></p>
<hr>
<p> Last updated on 2022-05-16 | <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/01-introducing-python.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is Python?</li>
<li>How do we assign variables in Python?</li>
<li>How does Python handle different types of data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Introduce some Python terminology</li>
<li>Learn how to assign values to variables</li>
<li>Learn how to call functions and methods</li>
<li>Introduce the built-in Python data types and functions</li>
<li>Introduce the Python Standard Library</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section id="using-python"><h2 class="section-heading">Using Python</h2>
<hr class="half-width">
<p>Python is a high-level, general purpose language. In practical terms, that means it dispenses with many of the complexities of writing code.</p>
<p>A core philosophical tenet of Python is that code is read more often than it is written. Best practices for coding in Python therefore emphasize writing well-documented, consistently formatted code that follows language-wide standards. <strong>In a Pythonic world, everyone’s code would look the same.</strong></p>
</section><section id="terms"><h2 class="section-heading">Terms</h2>
<hr class="half-width">
<p>Everything in Python is an <em>object</em>. Each object has a <em>type</em>, which controls what the kind of things the object can do. For example, you can add integers together or append a string to a list. An object can be <em>assigned</em> to a <em>variable</em>, and a <em>function</em> performs an action.</p>
<p>Python is an <em>object-oriented language</em>. This means that each object includes built-in variables and functions that can be used from the object itself. When working from an object, we use different terms to refer to these concepts:</p>
<ul>
<li>an <em>attribute</em> stores a piece of data</li>
<li>a <em>method</em> performs an action</li>
</ul>
<p>Let’s look at one of the main built-in types, <code>str</code>, to see how this works in practice. In Python, <code>str</code>, short for string, is used to store and manipulate text. To get started, we’ll assign the string “hello world” to the variable <strong>text</strong>. In Python, we use a single equal sign for assignment and use quotes to define the string.</p>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>Either single or double quotes can be used to create strings, but be careful to use them consistently! We will use double quotes in the examples here.</p>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"hello world"</span></span></code></pre>
</div>
<p>Now we can access that string by referring to that variable:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>text</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span class="st">'hello world'</span></code></pre>
</div>
<p>We can check the type of the variable using the <code>type()</code> function:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(text)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span class="va">str</span></code></pre>
</div>
<p>We can modify the text by calling one of the built-in methods. We call methods by appending a period and the name of the method to the object. For example, to display the string as upper case, use <code>upper()</code>:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>text.upper()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span class="st">'HELLO WORLD'</span></code></pre>
</div>
<p>Each object may contain many attributes and methods. Use the <code>help()</code> function on an object, including functions or methods, to print a description of the object and lists the available methods.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(<span class="bu">str</span>)</span></code></pre>
</div>
<div class="section level3">
<h3 id="data-types">Data types<a class="anchor" aria-label="anchor" href="#data-types"></a>
</h3>
<p>Python defines data types for representing other types of data, including numbers or collections of data. The core Python data types are introduced in the table below. We’ll talk more about some of these as we encounter them in the lesson:</p>
<table class="table">
<thead><tr class="header">
<th>Type</th>
<th>Definition</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/string.html" class="external-link">str</a></td>
<td>Character string</td>
<td><code>"hello world"</code></td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/functions.html#int" class="external-link">int</a></td>
<td>Integer numerical</td>
<td><code>42</code></td>
</tr>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/functions.html#float" class="external-link">float</a></td>
<td>Approximate numerical</td>
<td><code>0.406</code></td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/functions.html#bool" class="external-link">bool</a></td>
<td>Stores True or False values</td>
<td>
<code>True</code> or <code>False</code>
</td>
</tr>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/stdtypes.html#lists" class="external-link">list</a></td>
<td>Sequence that can be modified</td>
<td><code>["a", "b", "c"]</code></td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/stdtypes.html#tuples" class="external-link">tuple</a></td>
<td>Sequence that cannot be modified</td>
<td><code>("a", "b", "c")</code></td>
</tr>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/stdtypes.html#mapping-types-dict" class="external-link">dict</a></td>
<td>Mapping of keys to values</td>
<td><code>{"DC": "District of Columbia"}</code></td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/stdtypes.html#set-types-set-frozenset" class="external-link">set</a></td>
<td>Collection of unique values</td>
<td><code>{"1", "2", 1}</code></td>
</tr>
</tbody>
</table>
</div>
</section><section id="libraries"><h2 class="section-heading">Libraries</h2>
<hr class="half-width">
<p>Python includes a number of <a href="https://docs.python.org/3/library/functions.html" class="external-link">built-in functions</a> that are available wherever Python is installed. See the table below for some examples.</p>
<div class="section level3">
<h3 id="examples-of-built-in-functions">Examples of built-in functions<a class="anchor" aria-label="anchor" href="#examples-of-built-in-functions"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/functions.html#abs" class="external-link"><code>abs()</code></a></td>
<td>Gets the absolute value of a number</td>
<td><code>abs(-1.5) # returns 1.5</code></td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/functions.html#max" class="external-link"><code>max()</code></a></td>
<td>Gets the highest value in a sequence</td>
<td><code>min([1, 2, 3]) # returns 3</code></td>
</tr>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/functions.html#min" class="external-link"><code>min()</code></a></td>
<td>Gets the lowest value in a sequence</td>
<td><code>min([1, 2, 3]) # returns 1</code></td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/functions.html#round" class="external-link"><code>round()</code></a></td>
<td>Rounds a number to the nearest integer</td>
<td><code>round(5.4) # returns 5</code></td>
</tr>
</tbody>
</table>
<p>Python also includes a number of built-in libraries. A <em>library</em> bundles functions and other code related to a single task or data type. They are used to simplify the performance of common tasks. By using a common code base, a library allows coders to work more quickly and with fewer errors.</p>
<p>The libraries built into Python are referred to as the <a href="https://docs.python.org/3/library/index.html" class="external-link">Python Standard Library</a>. They can be accessed through a typical Python installation and do not require any additional downloads. A few examples are included in the table below, but as with the table of built-in functions, there are more where those came from.</p>
</div>
<div class="section level3">
<h3 id="examples-from-the-python-standard-library">Examples from the Python Standard Library<a class="anchor" aria-label="anchor" href="#examples-from-the-python-standard-library"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Library</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/datetime.html" class="external-link">datetime</a></td>
<td>Reads, writes, and analyzes dates and times</td>
</tr>
<tr class="even">
<td><a href="https://docs.python.org/3/library/os.html" class="external-link">os</a></td>
<td>Create, manipulate, and get information about files and paths</td>
</tr>
<tr class="odd">
<td><a href="https://docs.python.org/3/library/random.html" class="external-link">random</a></td>
<td>Generate pseudo-random numbers</td>
</tr>
</tbody>
</table>
<p>Unlike the built-in functions, we must import a library before we can use it:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span></code></pre>
</div>
<p>We must use the name of the library to access the functions it includes. For example, to create a <code>datetime.date</code> object (that is, a <code>date</code> object defined by the <code>datetime</code> library), we include both the library and method name:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>date <span class="op">=</span> datetime.date(<span class="dv">1970</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span></code></pre>
</div>
<p>As with the built-in types, the <code>datetime.date</code> object includes its own suite of attributes and methods. We can, for example, use the year attribute to get the year:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>date.year</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span class="fl">1970</span></code></pre>
</div>
<p>Or format the date in a specific way using <a href="https://docs.python.org/3/library/datetime.html#strftime-and-%20strptime-format-codes" class="external-link">date format codes</a>. Here, %Y corresponds to YYYY, %m to MM, and %d to DD.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>date.strftime(<span class="st">"%Y-%m-</span><span class="sc">%d</span><span class="st">"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span class="st">'1970-01-01'</span></code></pre>
</div>
<p>Like Python itself, the Python Standard Library is maintained by the Python Software Foundation. The built-in libraries are limited to a relatively small set of operations expected to be useful to a broad population of users. However, Python allows users to create their own libraries to perform actions that are beyond the scope of core Python. The rest of this lesson will focus on an external library called <code>pandas</code>.</p>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>
</section></section><section id="aio-02-introducing-pandas"><p>Content from <a href="02-introducing-pandas.html">Introducing pandas</a></p>
<hr>
<p> Last updated on 2022-05-16 | <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/02-introducing-pandas.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is pandas?</li>
<li>Why use pandas for data analysis?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Learn about the dataset we’ll be working with</li>
<li>Import and display data from a CSV</li>
<li>Learn how pandas handles different types of data</li>
<li>Characterize data using info()</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section id="dataset-description"><h2 class="section-heading">Dataset description</h2>
<hr class="half-width">
<p>The data we will be using is a time-series for a small mammal community in southern Arizona. This is part of a project studying the effects of rodents and ants on the plant community that has been running for almost 40 years. The rodents are sampled on a series of 24 plots, with different experimental manipulations controlling which rodents are allowed to access which plots.</p>
<p>This is a real dataset that has been used in over 100 publications. We’ve simplified it for the workshop, but you can download the full dataset and work with it using exactly the same tools we’ll learn about today.</p>
<p>Questions</p>
<p>Let’s look at some of the cleaned spreadsheets you downloaded during Setup to complete this challenge. You’ll need the following three files:</p>
<ul>
<li>surveys.csv</li>
<li>species.csv</li>
</ul>
<div class="section level3">
<h3 id="answering-questions-using-data">Answering questions using data<a class="anchor" aria-label="anchor" href="#answering-questions-using-data"></a>
</h3>
<p>In order to answer the questions described above, we’ll need to do the following basic data operations:</p>
<ul>
<li>select subsets of the data (rows and columns)</li>
<li>group subsets of data</li>
<li>do math and other calculations</li>
<li>combine data across spreadsheets</li>
</ul>
<p>In addition, we don’t want to do this manually! Instead of searching for the right pieces of data ourselves, or clicking between spreadsheets, or manually sorting columns, we want to make the computer do the work.</p>
<p>In particular, we want to use a tool where it’s easy to repeat our analysis in case our data changes. We also want to do all this searching without actually modifying our source data.</p>
</div>
</section><section id="why-use-pandas"><h2 class="section-heading">Why use pandas?</h2>
<hr class="half-width">
<p>The Python Data Analysis Library, or pandas, is a Python library used to work with dataframes. A dataframe is very similar to a spreadsheet, consisting of rows and columns of data. It is a very common format for representing scientific data and is likely to be very familiar to anyone taking this course.</p>
<p>pandas offers the same advantages as any well-written library: It creates a common codebase for working on a single task, in this case, analyzing data. Some benefits of this approach include:</p>
<ul>
<li>
<strong>Reliability:</strong> Provides flexible, well-tested methods for reading, querying, aggregating, grouping, and plotting data</li>
<li>
<strong>Repeatability:</strong> Repeat the same analyses when data is added or changed</li>
<li>
<strong>Speed:</strong> Faster in many cases than coding our own functions in Python</li>
<li>
<strong>Reproducibility:</strong> Document and share code in narrative form using tools like Jupyter notebooks</li>
<li>
<strong>Community:</strong> Access a large, active community for help when we run into problems</li>
</ul></section><section id="importing-data-using-pandas"><h2 class="section-heading">Importing data using pandas</h2>
<hr class="half-width">
<p>Unlike the libraries in the Python Standard Library discussed in the previous lesson, pandas is not part of the typical Python installation. Once it has been installed, however, it can be accessed using the same <code>import</code> command used to import the built-in libraries. By convention, pandas is imported using the alias “pd”. We can assign the alias using the <code>as</code> keyword:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre>
</div>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>Why use an alias? We will refer to pandas many, many times when writing a script, so it’s useful to abbreviate the name and save some keystrokes. But it’s also a matter of consistency with the larger community. Many of the core scientific Python libraries, including pandas, recommend a specific alias, so most code you find online will use those aliases as well.</p>
</div>
</div>
</div>
<p>Now the pandas has been imported, we can access the function we need to load data from a CSV, <code>pd.read_csv()</code>. The <em>call</em> has three parts:</p>
<ul>
<li>The name (or in this case, alias) of the object that defines the function. This can be a library, alias, or any other object. It can also be omitted in some cases (for example, when using a function built into Python).</li>
<li>The name of the method we’d like to use</li>
<li>A set of parentheses that tells the function to run.</li>
</ul>
<p>Many functions allow you to include both <em>arguments</em> and <em>keyword arguments</em> (collectively called <em>parameters</em>) inside the parentheses when calling the function. In this case, we will pass a single argument, which is a string defining the path to the surveys.csv file:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 9 columns
</p>
<p>A few things to observe about this table:</p>
<ul>
<li>The unlabeled column on the far left is the row label</li>
<li>
<code>pandas</code> has done a lot of work behind the scenes when reading the data, including:
<ul>
<li>Assigning the row index as the row label</li>
<li>Assigning each column a data type based on its contents</li>
<li>Assigning certain cells the value NaN, which stands for “not a number” and is used to designate null values in the dataset. Here, those cells represent blank cells in the spreadsheet.</li>
</ul>
</li>
</ul>
<p>Most of this behavior can be controlled when the spreadsheet is first read by using keyword arguments. A keyword argument is a named parameter that you can use to control the behavior of a function. For example, to force <code>pd.read_csv()</code> to use the existing record_id column as the row label, use the <code>index_col</code> keyword argument:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">"data/surveys.csv"</span>, index_col<span class="op">=</span><span class="st">"record_id"</span>)</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr>
<tr>
<th>
record_id
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
<th>
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
1
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
5
</th>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35549
</th>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 8 columns
</p>
<p>Now record_id appears on the far left, indicating that <code>pandas</code> is using that column as the row label.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Run <code>help()</code> on the <code>pd.read_csv()</code> method (note that you should omit the trailing parentheses). Alternatively, take a look at the <a href="https://pandas.pydata.org/pandas-%20docs/stable/reference/api/pandas.read_csv.html" class="external-link">much prettier documentation</a> provided by the pandas developers. Based on that information, answer the following questions:</p>
<ol style="list-style-type: decimal">
<li>What parameter would you use to control how null values are interpreted?</li>
<li>What values are interpreted as NaN by default?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution to challenge 1
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>na_values</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution to challenge 2
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<ul>
<li>""</li>
<li>“#N/A”</li>
<li>“#N/A N/A”</li>
<li>“#NA”</li>
<li>“-1.#IND”</li>
<li>“-1.#QNAN”</li>
<li>“-NaN”</li>
<li>“-nan”</li>
<li>“1.#IND”</li>
<li>“1.#QNAN”</li>
<li>“<na>”</na>
</li>
<li>“N/A”</li>
<li>“NA”</li>
<li>“NULL”</li>
<li>“NaN”</li>
<li>“n/a”</li>
<li>“nan”</li>
<li>“null”</li>
</ul>
</div>
</div>
</div>
</div>
</section><section id="assigning-to-variables"><h2 class="section-heading">Assigning to variables</h2>
<hr class="half-width">
<p>We can assign the dataframe to a variable to make it easier to access. As we saw in the previous lesson, we use a single equals sign to assign an object to a variable. The variable name should be short and descriptive. By convention, variables in Python use snake_case (that is, lower case with individual words separated by underscores).</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>surveys</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 9 columns
</p>
</section><section id="understanding-data-types-in-pandas"><h2 class="section-heading">Understanding data types in pandas</h2>
<hr class="half-width">
<p>We can use the <code>info()</code> method to see how <code>pandas</code> interpreted each column in the dataset. This method gives use the name, count, and data type of each column and provides some information about the dataset as a whole (for example, memory usage, which is helpful to know when working with large datasets):</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>surveys.info()</span></code></pre>
</div>
<p>Note that the data types used by pandas look a little different than the ones used by Python itself. See the table below for the rough equivalents.</p>
<div class="section level3">
<h3 id="data-types-in-pandas">Data types in pandas<a class="anchor" aria-label="anchor" href="#data-types-in-pandas"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Data Type</th>
<th>Description</th>
<th>Similar To</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>object</td>
<td>Character string or mixed</td>
<td>str</td>
</tr>
<tr class="even">
<td>int64</td>
<td>Integer numerical (no decimal)</td>
<td>int</td>
</tr>
<tr class="odd">
<td>float64</td>
<td>Approximate numerical</td>
<td>float</td>
</tr>
<tr class="even">
<td>bool</td>
<td>Stores True or False values</td>
<td>bool</td>
</tr>
<tr class="odd">
<td>datetime64</td>
<td>Stores date and time values</td>
<td>datetime.datetime</td>
</tr>
</tbody>
</table>
</div>
</section><section id="saving-a-dataframe"><h2 class="section-heading">Saving a dataframe</h2>
<hr class="half-width">
<p>When analyzing a dataset, we’ll often want to save our work to a file. The <code>to_csv()</code> method can be used to write a dataframe to a CSV:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>surveys.to_csv(<span class="st">"data/surveys_mod.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<p>But that is far from the only option – <code>pandas</code> supports a variety of file types for both reading and writing.</p>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-03-accessing-data-in-a-dataframe"><p>Content from <a href="03-accessing-data-in-a-dataframe.html">Accessing Data in a Dataframe</a></p>
<hr>
<p> Last updated on 2022-05-16 | <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/03-accessing-data-in-a-dataframe.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can we look at individual rows and columns?</li>
<li>How can we perform calculations on the data?</li>
<li>How can we modify data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use square brackets to access individual rows and columns</li>
<li>Grab multiple columns at once using a list</li>
<li>Rename columns using a dictionary</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>We’ll begin by importing pandas and reading our CSV, as we did in the previous lesson:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span></code></pre>
</div>
<section id="viewing-the-dataframe"><h2 class="section-heading">Viewing the dataframe</h2>
<hr class="half-width">
<p>To view a dataframe in a Jupyter Notebook, type the variable name as the last line of the cell. By default, this will display the first and last five rows of the dataframe:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>surveys</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 9 columns
</p>
<p>We will now look at how to access rows and columns in the dataframe.</p>
<div class="section level3">
<h3 id="columns">Columns<a class="anchor" aria-label="anchor" href="#columns"></a>
</h3>
<p>You can get the values from a single column using square brackets at the end of the dataframe object. For example, to look at the year column, use:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"year"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0        1977
1        1977
2        1977
3        1977
4        1977
         ... 
35544    2002
35545    2002
35546    2002
35547    2002
35548    2002
Name: year, Length: 35549, dtype: int64</code></pre>
</div>
<p>A single column is returned as a <code>Series</code>, which is why the output for this cell is formatted differently than the other cells in this lesson. The main difference between a <code>Series</code> and a <code>DataFrame</code> is that a <code>DataFrame</code> can have multiple columns. The two classes share many but not all attributes and methods. Note also that this is a copy of data from the original dataframe. Changing values in the series will have no effect on the original dataframe.</p>
</div>
<div class="section level3">
<h3 id="using-lists-to-get-more-than-one-column-at-a-time">Using lists to get more than one column at a time<a class="anchor" aria-label="anchor" href="#using-lists-to-get-more-than-one-column-at-a-time"></a>
</h3>
<p>Python using the built-in <code>list</code> data type to store sequences, that is, an ordered list of objects. Any type of Python object can be store in a list: strings, integers, floats, even other lists. Once created, a list can be modified by appending, inserting, or deleting items. We will not be going into detail about these operations here, but as always you can learn more about how to use a list using <code>help()</code> or <a href="https://docs.python.org/3/library/stdtypes.html#list" class="external-link">the Python docs</a>.</p>
<p>Create a list using square brackets. Let’s create a list of the three columns in our dataframe that are related to the date:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> [<span class="st">"year"</span>, <span class="st">"month"</span>, <span class="st">"day"</span>]</span></code></pre>
</div>
<p>When we pass this list to the square brackets, as we did above, we retrieve a copy of the dataframe containing just those columns:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>surveys[cols]</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
year
</th>
<th>
month
</th>
<th>
day
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
1
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
2
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
3
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
4
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 3 columns
</p>
</div>
</section><section id="rows"><h2 class="section-heading">Rows</h2>
<hr class="half-width">
<p>You can get the rows at the beginning of the table using the head method:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>surveys.head()</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>Provide a number inside the parentheses if you want a specific number of rows:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>surveys.head(<span class="dv">20</span>)</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
5
</th>
<td>
6
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
PF
</td>
<td>
M
</td>
<td>
14.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
6
</th>
<td>
7
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
PE
</td>
<td>
F
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
7
</th>
<td>
8
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
8
</th>
<td>
9
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
34.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
9
</th>
<td>
10
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
6
</td>
<td>
PF
</td>
<td>
F
</td>
<td>
20.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
10
</th>
<td>
11
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
5
</td>
<td>
DS
</td>
<td>
F
</td>
<td>
53.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
11
</th>
<td>
12
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
38.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
12
</th>
<td>
13
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
13
</th>
<td>
14
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
8
</td>
<td>
DM
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
14
</th>
<td>
15
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
6
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
15
</th>
<td>
16
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
4
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
16
</th>
<td>
17
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DS
</td>
<td>
F
</td>
<td>
48.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
17
</th>
<td>
18
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
PP
</td>
<td>
M
</td>
<td>
22.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
18
</th>
<td>
19
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
4
</td>
<td>
PF
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
19
</th>
<td>
20
</td>
<td>
7
</td>
<td>
17
</td>
<td>
1977
</td>
<td>
11
</td>
<td>
DS
</td>
<td>
F
</td>
<td>
48.0
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>The <code>tail()</code> method is similar, except it returns rows from the end of the table:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>surveys.tail()</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>The <code>head()</code> and <code>tail()</code> methods are useful for getting a feel for how our data is structured, but we’ll also want to be able to look at specific rows. As when we selected columns above, we can use square brackets to extract <em>slices</em> from the dataframe. This time, however, we pass two numbers separated by a colon representing the starting and ending indexes:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="dv">2</span>:<span class="dv">5</span>]</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>There are three things to be aware of when slicing a dataframe:</p>
<ul>
<li>Row indexes are zero-based. That is, the first row has an index of 0, not 1.</li>
<li>When slicing, the slice includes start but not end index. In this case, that means the slice includes rows 2, 3, and 4 but not 5.</li>
<li>The row label can be different from the row index</li>
</ul>
<p>Core Python types like <code>list</code> and <code>tuple</code> use the same conventions, as do most libraries that deal with sequences.</p>
</section><section id="unique-values"><h2 class="section-heading">Unique values</h2>
<hr class="half-width">
<p>Recall that you can use square brackets to return a single column from a dataframe. You can get the list of unique values within that column using the <code>unique()</code> method:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"species_id"</span>].unique()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array(['NL', 'DM', 'PF', 'PE', 'DS', 'PP', 'SH', 'OT', 'DO', 'OX', 'SS',
       'OL', 'RM', nan, 'SA', 'PM', 'AH', 'DX', 'AB', 'CB', 'CM', 'CQ',
       'RF', 'PC', 'PG', 'PH', 'PU', 'CV', 'UR', 'UP', 'ZL', 'UL', 'CS',
       'SC', 'BA', 'SF', 'RO', 'AS', 'SO', 'PI', 'ST', 'CU', 'SU', 'RX',
       'PB', 'PL', 'PX', 'CT', 'US'], dtype=object)</code></pre>
</div>
<p><code>pandas</code> does not provide a dedicated function or method to find distinct values across multiple columns. However, we can use the <code>drop_duplicates()</code> method on a copy of the dataframe containing only the columns we’re interested in to get the expected result:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> surveys[[<span class="st">"plot_id"</span>, <span class="st">"species_id"</span>]]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>subset.drop_duplicates()</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
2
</td>
<td>
NL
</td>
</tr>
<tr>
<th>
1
</th>
<td>
3
</td>
<td>
NL
</td>
</tr>
<tr>
<th>
2
</th>
<td>
2
</td>
<td>
DM
</td>
</tr>
<tr>
<th>
3
</th>
<td>
7
</td>
<td>
DM
</td>
</tr>
<tr>
<th>
4
</th>
<td>
3
</td>
<td>
DM
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35474
</th>
<td>
22
</td>
<td>
SF
</td>
</tr>
<tr>
<th>
35511
</th>
<td>
11
</td>
<td>
US
</td>
</tr>
<tr>
<th>
35519
</th>
<td>
9
</td>
<td>
SF
</td>
</tr>
<tr>
<th>
35527
</th>
<td>
13
</td>
<td>
US
</td>
</tr>
<tr>
<th>
35543
</th>
<td>
15
</td>
<td>
US
</td>
</tr>
</tbody>
</table>
<p>
612 rows × 2 columns
</p>
</section><section id="calculated-values"><h2 class="section-heading">Calculated values</h2>
<hr class="half-width">
<p>The survey dataset includes two columns, hindfoot_length and weight, that are stored as numbers and represent measurements. You may want to perform calculations using numbers like these in your own data. You can do so using Python’s built-in mathematical operators, including:</p>
<ul>
<li>
<code>+</code> for addition</li>
<li>
<code>-</code> for subtraction</li>
<li>
<code>*</code> for multiplication</li>
<li>
<code>/</code> for division</li>
<li>
<code>**</code> for exponents</li>
</ul>
<p>For example, to convert all values in the weight column from grams to milligrams, we can multiply the column by 1000:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"weight"</span>] <span class="op">*</span> <span class="dv">1000</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0            NaN
1            NaN
2            NaN
3            NaN
4            NaN
          ...   
35544        NaN
35545        NaN
35546    14000.0
35547    51000.0
35548        NaN
Name: weight, Length: 35549, dtype: float64</code></pre>
</div>
<p>To convert it to kilograms, we can divide by 1000:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"weight"</span>] <span class="op">/</span> <span class="dv">1000</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0          NaN
1          NaN
2          NaN
3          NaN
4          NaN
         ...  
35544      NaN
35545      NaN
35546    0.014
35547    0.051
35548      NaN
Name: weight, Length: 35549, dtype: float64</code></pre>
</div>
<p>Note that this calculation does not modify the original dataset. If we want to retain the result, we have to assign it to a new column:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"weight_mg"</span>] <span class="op">=</span> surveys[<span class="st">"weight"</span>] <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Now the weight_mg columns appear in our dataframe</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>surveys</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
14000.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
51000.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 10 columns
</p>
<p>You can also add, subtract, multiply, and divide columns, as in the following (admittedly nonsensical) calculation, which adds together the hindfoot_length and weight columns:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"hindfoot_length"</span>] <span class="op">+</span> surveys[<span class="st">"weight"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0         NaN
1         NaN
2         NaN
3         NaN
4         NaN
         ... 
35544     NaN
35545     NaN
35546    29.0
35547    87.0
35548     NaN
Length: 35549, dtype: float64</code></pre>
</div>
</section><section id="renaming-columns"><h2 class="section-heading">Renaming columns</h2>
<hr class="half-width">
<p>The hindfoot_length and weight columns don’t specify a unit, which may get confusing if we want to perform unit conversions like the one above. Fortunately, dataframes allow us to rename existing columns using <code>rename()</code>.</p>
<p>The <code>rename()</code> method uses a dictionary (or <code>dict</code>) to map between the old and new column names. The <code>dict</code> data type is built in to Python– you don’t need to import anything to use it. They consist of keys and values. You can create a <code>dict</code> using curly braces:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>dct <span class="op">=</span> {<span class="st">"key1"</span>: <span class="st">"val1"</span>, <span class="st">"key2"</span>: <span class="st">"val2"</span>}</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>dct</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'key1': 'val1', 'key2': 'val2'}</code></pre>
</div>
<p>Dictionaries are a useful and highly flexible data type. As with <code>list</code> above, we’ll be giving them short shrift here, but you can learn more about them at <a href="https://docs.python.org/3/library/stdtypes.html#dict" class="external-link">the Python docs</a>.</p>
<p>Here we’ll use a dict to specify how we want to rename our columns. The <em>keys</em> will be the current columns names and the <em>values</em> are the new column names. Note that we explicitly assign the result of <code>rename()</code> to the original variable–by default, <code>rename()</code> returns a copy of the original dataframe instead of modifying the original dataframe. Most dataframe operations work this way.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dict that maps from the old to the new column name</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> {</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hindfoot_length"</span>: <span class="st">"hindfoot_length_mm"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"weight"</span>: <span class="st">"weight_g"</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign the result of the rename method back to surveys</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>surveys <span class="op">=</span> surveys.rename(columns<span class="op">=</span>cols)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co"># View the dataframe with the new column names</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>surveys</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length_mm
</th>
<th>
weight_g
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
14000.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
51000.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 10 columns
</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Create a dataframe that returns the year, month, day, species_id and weight in mg.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign the weight in milligrams to the weight_mg column</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"weight_mg"</span>] <span class="op">=</span> surveys[<span class="st">"weight_g"</span>] <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a copy of the year, month, day, and weight_mg columns</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> surveys[[<span class="st">"year"</span>, <span class="st">"month"</span>, <span class="st">"day"</span>, <span class="st">"weight_mg"</span>]]</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View the subset</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>subset</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
year
</th>
<th>
month
</th>
<th>
day
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
1977
</td>
<td>
7
</td>
<td>
16
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
<td>
14000.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
<td>
51000.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
2002
</td>
<td>
12
</td>
<td>
31
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 4 columns
</p>
</div>
</div>
</div>
</div>
</section><section id="filtering"><h2 class="section-heading">Filtering</h2>
<hr class="half-width">
<p><code>pandas</code> provides a variety of ways to filter the data in the dataframe. For example, suppose you want to look at a specific species in the survey dataframe. You can view the rows matching a given species using the same square brackets we used above to select specific columns and rows. Here, however, instead of passing a value or list of values, we will pass a conditional.</p>
<p>A <em>conditional</em> is a statement that evaluates as either True or False. They often make use of inequality operators, for example:</p>
<ul>
<li>
<code>==</code> for equals</li>
<li>
<code>!=</code> for does not equal</li>
<li>
<code>&gt;</code> for greater than</li>
<li>
<code>&gt;=</code> for greater than or equal to</li>
<li>
<code>&lt;</code> for less than</li>
<li>
<code>&lt;=</code> for less than or equal to</li>
</ul>
<p>Examples of conditional statements include:</p>
<ul>
<li>
<code>"a" == "b"'</code> evaluates False</li>
<li>
<code>"a" != b"</code> evaluates True</li>
<li>
<code>3 &gt; 4</code> evaluates False</li>
</ul>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>Remember that, in Python, a single equal sign is used to assign values to variables. We’ve already used the assignment operator in this lesson, for example, when we created a new column in the dataframe.</p>
</div>
</div>
</div>
<p>To limit the dataframe to rows matching the species “DM”, include the conditional <code>surveys["species_id"] == "DM"</code> inside the square brackets:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>surveys[surveys[<span class="st">"species_id"</span>] <span class="op">==</span> <span class="st">"DM"</span>]</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length_mm
</th>
<th>
weight_g
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
7
</th>
<td>
8
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
8
</th>
<td>
9
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
34.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35532
</th>
<td>
35533
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
48.0
</td>
<td>
48000.0
</td>
</tr>
<tr>
<th>
35533
</th>
<td>
35534
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
56.0
</td>
<td>
56000.0
</td>
</tr>
<tr>
<th>
35534
</th>
<td>
35535
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
53.0
</td>
<td>
53000.0
</td>
</tr>
<tr>
<th>
35535
</th>
<td>
35536
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
42.0
</td>
<td>
42000.0
</td>
</tr>
<tr>
<th>
35536
</th>
<td>
35537
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
46.0
</td>
<td>
46000.0
</td>
</tr>
</tbody>
</table>
<p>
10596 rows × 10 columns
</p>
<p>To limit our results to observations made in or after 2000, use:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>surveys[surveys[<span class="st">"year"</span>] <span class="op">&gt;=</span> <span class="dv">2000</span>]</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length_mm
</th>
<th>
weight_g
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
30158
</th>
<td>
30159
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
PP
</td>
<td>
F
</td>
<td>
22.0
</td>
<td>
17.0
</td>
<td>
17000.0
</td>
</tr>
<tr>
<th>
30159
</th>
<td>
30160
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
53.0
</td>
<td>
53000.0
</td>
</tr>
<tr>
<th>
30160
</th>
<td>
30161
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
PP
</td>
<td>
F
</td>
<td>
21.0
</td>
<td>
17.0
</td>
<td>
17000.0
</td>
</tr>
<tr>
<th>
30161
</th>
<td>
30162
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
50.0
</td>
<td>
50000.0
</td>
</tr>
<tr>
<th>
30162
</th>
<td>
30163
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
PP
</td>
<td>
M
</td>
<td>
20.0
</td>
<td>
16.0
</td>
<td>
16000.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
14000.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
51000.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
5391 rows × 10 columns
</p>
<p>As with <code>rename()</code> above, each filtering operation returns a copy of the dataframe. We will look at how to make changes to the original dataframe at the end of this lesson.</p>
</section><section id="building-more-complex-queries"><h2 class="section-heading">Building more complex queries</h2>
<hr class="half-width">
<p>You can combine conditionals using <em>bitwise operators</em>:</p>
<ul>
<li>
<code>&amp;</code>: True if conditions on both sides of the operator are True</li>
<li>
<code>|</code>: True if a condition on either side is True</li>
</ul>
<p>To return all observations of DM in or after 2000, we can combine the two conditionals we used previously. Note that, when joining conditionals using <code>&amp;</code> or <code>|</code>, you should wrap each condition in parentheses. If you omit the parentheses, <code>pandas</code> will not perform the comparisons in the expected order.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>surveys[(surveys[<span class="st">"species_id"</span>] <span class="op">==</span> <span class="st">"DM"</span>) <span class="op">&amp;</span> (surveys[<span class="st">"year"</span>] <span class="op">&gt;=</span> <span class="dv">2000</span>)]</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length_mm
</th>
<th>
weight_g
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
30161
</th>
<td>
30162
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
50.0
</td>
<td>
50000.0
</td>
</tr>
<tr>
<th>
30178
</th>
<td>
30179
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
12
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
60.0
</td>
<td>
60000.0
</td>
</tr>
<tr>
<th>
30195
</th>
<td>
30196
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
17
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
52.0
</td>
<td>
52000.0
</td>
</tr>
<tr>
<th>
30196
</th>
<td>
30197
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
17
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
34.0
</td>
<td>
43.0
</td>
<td>
43000.0
</td>
</tr>
<tr>
<th>
30209
</th>
<td>
30210
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
22
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
38.0
</td>
<td>
56.0
</td>
<td>
56000.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35532
</th>
<td>
35533
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
48.0
</td>
<td>
48000.0
</td>
</tr>
<tr>
<th>
35533
</th>
<td>
35534
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
56.0
</td>
<td>
56000.0
</td>
</tr>
<tr>
<th>
35534
</th>
<td>
35535
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
53.0
</td>
<td>
53000.0
</td>
</tr>
<tr>
<th>
35535
</th>
<td>
35536
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
42.0
</td>
<td>
42000.0
</td>
</tr>
<tr>
<th>
35536
</th>
<td>
35537
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
46.0
</td>
<td>
46000.0
</td>
</tr>
</tbody>
</table>
<p>
847 rows × 10 columns
</p>
<p><code>pandas</code> also provides methods that can be used for filtering. One example is <code>isin()</code>, which is used to match a list of values. This method can be combined with other conditionals as above. The example below returns rows from 2000 or later with either “DM”, “DO”, or “DS” in the species_id column:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>surveys[surveys[<span class="st">"species_id"</span>].isin([<span class="st">"DM"</span>, <span class="st">"DO"</span>, <span class="st">"DS"</span>]) <span class="op">&amp;</span> (surveys[<span class="st">"year"</span>] <span class="op">&gt;=</span> <span class="dv">2000</span>)]</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length_mm
</th>
<th>
weight_g
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
30159
</th>
<td>
30160
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
53.0
</td>
<td>
53000.0
</td>
</tr>
<tr>
<th>
30161
</th>
<td>
30162
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
50.0
</td>
<td>
50000.0
</td>
</tr>
<tr>
<th>
30166
</th>
<td>
30167
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
41.0
</td>
<td>
41000.0
</td>
</tr>
<tr>
<th>
30170
</th>
<td>
30171
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
2
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
52.0
</td>
<td>
52000.0
</td>
</tr>
<tr>
<th>
30172
</th>
<td>
30173
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
2
</td>
<td>
DO
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
54.0
</td>
<td>
54000.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35533
</th>
<td>
35534
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
56.0
</td>
<td>
56000.0
</td>
</tr>
<tr>
<th>
35534
</th>
<td>
35535
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
53.0
</td>
<td>
53000.0
</td>
</tr>
<tr>
<th>
35535
</th>
<td>
35536
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
42.0
</td>
<td>
42000.0
</td>
</tr>
<tr>
<th>
35536
</th>
<td>
35537
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
46.0
</td>
<td>
46000.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
51000.0
</td>
</tr>
</tbody>
</table>
<p>
1268 rows × 10 columns
</p>
</section><section id="sorting"><h2 class="section-heading">Sorting</h2>
<hr class="half-width">
<p>You can sort a dataframe using the <code>sort_values()</code> method. For this example, we’ll work from the subset defined above. First we need to assign that query to a variable:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> surveys[</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    surveys[<span class="st">"species_id"</span>].isin([<span class="st">"DM"</span>, <span class="st">"DO"</span>, <span class="st">"DS"</span>]) <span class="op">&amp;</span> (surveys[<span class="st">"year"</span>] <span class="op">&gt;=</span> <span class="dv">2000</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>]</span></code></pre>
</div>
<p>Now we’ll sort results by <code>weight_g</code>. To do so, pass that column name as an argument (that is, inside the trailing parentheses) to the <code>sort_values()</code> method:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>results.sort_values(<span class="st">"weight_g"</span>)</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length_mm
</th>
<th>
weight_g
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
30614
</th>
<td>
30615
</td>
<td>
4
</td>
<td>
30
</td>
<td>
2000
</td>
<td>
12
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
18.0
</td>
<td>
18000.0
</td>
</tr>
<tr>
<th>
34790
</th>
<td>
34791
</td>
<td>
10
</td>
<td>
5
</td>
<td>
2002
</td>
<td>
17
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
20.0
</td>
<td>
20000.0
</td>
</tr>
<tr>
<th>
32782
</th>
<td>
32783
</td>
<td>
9
</td>
<td>
23
</td>
<td>
2001
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
21.0
</td>
<td>
21000.0
</td>
</tr>
<tr>
<th>
32650
</th>
<td>
32651
</td>
<td>
9
</td>
<td>
22
</td>
<td>
2001
</td>
<td>
17
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
33.0
</td>
<td>
21.0
</td>
<td>
21000.0
</td>
</tr>
<tr>
<th>
34345
</th>
<td>
34346
</td>
<td>
6
</td>
<td>
16
</td>
<td>
2002
</td>
<td>
9
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
22.0
</td>
<td>
22000.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
34724
</th>
<td>
34725
</td>
<td>
9
</td>
<td>
10
</td>
<td>
2002
</td>
<td>
9
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
38.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
34950
</th>
<td>
34951
</td>
<td>
10
</td>
<td>
6
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35088
</th>
<td>
35089
</td>
<td>
11
</td>
<td>
10
</td>
<td>
2002
</td>
<td>
11
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35387
</th>
<td>
35388
</td>
<td>
12
</td>
<td>
29
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35485
</th>
<td>
35486
</td>
<td>
12
</td>
<td>
29
</td>
<td>
2002
</td>
<td>
16
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
1268 rows × 10 columns
</p>
<p>By default, rows are sorted in <em>ascending</em> order (smallest to largest). You can modify this behavior using the ascending keyword argument:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>results.sort_values(<span class="st">"weight_g"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length_mm
</th>
<th>
weight_g
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
31955
</th>
<td>
31956
</td>
<td>
4
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
24
</td>
<td>
DO
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
76.0
</td>
<td>
76000.0
</td>
</tr>
<tr>
<th>
31942
</th>
<td>
31943
</td>
<td>
4
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
68.0
</td>
<td>
68000.0
</td>
</tr>
<tr>
<th>
32041
</th>
<td>
32042
</td>
<td>
5
</td>
<td>
26
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
68.0
</td>
<td>
68000.0
</td>
</tr>
<tr>
<th>
30441
</th>
<td>
30442
</td>
<td>
3
</td>
<td>
4
</td>
<td>
2000
</td>
<td>
2
</td>
<td>
DO
</td>
<td>
F
</td>
<td>
NaN
</td>
<td>
66.0
</td>
<td>
66000.0
</td>
</tr>
<tr>
<th>
35159
</th>
<td>
35160
</td>
<td>
11
</td>
<td>
10
</td>
<td>
2002
</td>
<td>
13
</td>
<td>
DO
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
65.0
</td>
<td>
65000.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
34724
</th>
<td>
34725
</td>
<td>
9
</td>
<td>
10
</td>
<td>
2002
</td>
<td>
9
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
38.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
34950
</th>
<td>
34951
</td>
<td>
10
</td>
<td>
6
</td>
<td>
2002
</td>
<td>
14
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35088
</th>
<td>
35089
</td>
<td>
11
</td>
<td>
10
</td>
<td>
2002
</td>
<td>
11
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35387
</th>
<td>
35388
</td>
<td>
12
</td>
<td>
29
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35485
</th>
<td>
35486
</td>
<td>
12
</td>
<td>
29
</td>
<td>
2002
</td>
<td>
16
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
1268 rows × 10 columns
</p>
<p>You can sort on multiple fields at once by passing a list of column names. You can control how each column sorts by passing a list of the same length to the ascending keyword:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>results.sort_values([<span class="st">"species_id"</span>, <span class="st">"weight_g"</span>], ascending<span class="op">=</span>[<span class="va">True</span>, <span class="va">False</span>])</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length_mm
</th>
<th>
weight_g
</th>
<th>
weight_mg
</th>
</tr></thead>
<tbody>
<tr>
<th>
34126
</th>
<td>
34127
</td>
<td>
5
</td>
<td>
16
</td>
<td>
2002
</td>
<td>
9
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
35.0
</td>
<td>
64.0
</td>
<td>
64000.0
</td>
</tr>
<tr>
<th>
30178
</th>
<td>
30179
</td>
<td>
1
</td>
<td>
8
</td>
<td>
2000
</td>
<td>
12
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
60.0
</td>
<td>
60000.0
</td>
</tr>
<tr>
<th>
31858
</th>
<td>
31859
</td>
<td>
3
</td>
<td>
24
</td>
<td>
2001
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
60.0
</td>
<td>
60000.0
</td>
</tr>
<tr>
<th>
32909
</th>
<td>
32910
</td>
<td>
10
</td>
<td>
14
</td>
<td>
2001
</td>
<td>
4
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
60.0
</td>
<td>
60000.0
</td>
</tr>
<tr>
<th>
34604
</th>
<td>
34605
</td>
<td>
7
</td>
<td>
14
</td>
<td>
2002
</td>
<td>
9
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
60.0
</td>
<td>
60000.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
33960
</th>
<td>
33961
</td>
<td>
5
</td>
<td>
15
</td>
<td>
2002
</td>
<td>
2
</td>
<td>
DO
</td>
<td>
F
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
34072
</th>
<td>
34073
</td>
<td>
5
</td>
<td>
16
</td>
<td>
2002
</td>
<td>
4
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
34437
</th>
<td>
34438
</td>
<td>
7
</td>
<td>
13
</td>
<td>
2002
</td>
<td>
12
</td>
<td>
DO
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35387
</th>
<td>
35388
</td>
<td>
12
</td>
<td>
29
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35485
</th>
<td>
35486
</td>
<td>
12
</td>
<td>
29
</td>
<td>
2002
</td>
<td>
16
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
1268 rows × 10 columns
</p>
<p>As with the dataframe methods above, <code>sort_values()</code> returns a copy of the original dataframe and leaves the original untouched.</p>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Write a query that returns year, species_id, and weight in kg from the surveys table, sorted with the largest weights at the top.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new column with weight in kg</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"weight_kg"</span>] <span class="op">=</span> surveys[<span class="st">"weight_g"</span>] <span class="op">/</span> <span class="dv">1000</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a subset containing only year, species_id, and weight_kg</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> surveys[[<span class="st">"year"</span>, <span class="st">"species_id"</span>, <span class="st">"weight_kg"</span>]]</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the subset by weight_kg</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> subset.sort_values(<span class="st">"weight_kg"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>subset</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
year
</th>
<th>
species_id
</th>
<th>
weight_kg
</th>
</tr></thead>
<tbody>
<tr>
<th>
33048
</th>
<td>
2001
</td>
<td>
NL
</td>
<td>
0.280
</td>
</tr>
<tr>
<th>
12870
</th>
<td>
1987
</td>
<td>
NL
</td>
<td>
0.278
</td>
</tr>
<tr>
<th>
15458
</th>
<td>
1989
</td>
<td>
NL
</td>
<td>
0.275
</td>
</tr>
<tr>
<th>
2132
</th>
<td>
1979
</td>
<td>
NL
</td>
<td>
0.274
</td>
</tr>
<tr>
<th>
12728
</th>
<td>
1987
</td>
<td>
NL
</td>
<td>
0.270
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35530
</th>
<td>
2002
</td>
<td>
PB
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35543
</th>
<td>
2002
</td>
<td>
US
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
2002
</td>
<td>
AH
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
2002
</td>
<td>
AH
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
2002
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 3 columns
</p>
</div>
</div>
</div>
</div>
</section><section id="modifying-data"><h2 class="section-heading">Modifying data</h2>
<hr class="half-width">
<p>We’ve already shown how to modify an existing a dataframe by adding a new column. What if we want to modify existing cells instead? As we’ve seen, this can be a little tricky in <code>pandas</code> because most of its methods return a copy of the original dataframe. For example, you can easily look at subsets of a dataframe using square brackets. The cell below returns the species_id column for rows 2 through 5:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="dv">2</span>:<span class="dv">6</span>][<span class="st">"species_id"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2    DM
3    DM
4    DM
5    PF
Name: species_id, dtype: object</code></pre>
</div>
<p>But trying to set new values using this syntax may not work as expected. Say we want to set the species_id column to a new value, “CAT”. Try running the code in the cell below:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="dv">2</span>:<span class="dv">6</span>][<span class="st">"species_id"</span>] <span class="op">=</span> <span class="st">"CAT"</span></span></code></pre>
</div>
<p>You should have received a <code>SettingWithCopyWarning</code> warning after running that cell. This warning tells you that the data in the original dataframe has not been modified. This is because the square brackets returned a copy, meaning that any changes will be reflected in the copy, not the original. We can verify that the original dataframe has not been changed by displaying the rows that would have been affected by this changed:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="dv">2</span>:<span class="dv">6</span>]</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length_mm
</th>
<th>
weight_g
</th>
<th>
weight_mg
</th>
<th>
weight_kg
</th>
</tr></thead>
<tbody>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
5
</th>
<td>
6
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
1
</td>
<td>
PF
</td>
<td>
M
</td>
<td>
14.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="using-loc-to-modify-existing-cells">Using loc to modify existing cells<a class="anchor" aria-label="anchor" href="#using-loc-to-modify-existing-cells"></a>
</h3>
<p>One way to modify existing data in <code>pandas</code> is to use the <code>loc</code> attribute. This attribute allows you to extract and modify cells in a DataFrame using the following syntax: <code>df.loc[row_indexer, col_indexer]</code>.</p>
<p>The <em>row_indexer</em> argument is used to select one or more rows. It can be:</p>
<ul>
<li>A row label (i.e., the bold column on the far left)
<ul>
<li>
<code>0</code> returns the row with label 0</li>
</ul>
</li>
<li>A slice including multiple rows:
<ul>
<li>
<code>:</code> returns all rows</li>
<li>
<code>:2</code> returns all rows from the beginning of the dataframe to the row labeled 2, <em>inclusive</em>
</li>
<li>
<code>2:</code> returns all rows from the row labeled 2 to the end of the dataframe, <em>inclusive</em>
</li>
<li>
<code>2:5</code> returns all rows between those labeled 2 and 5, <em>inclusive</em>
</li>
</ul>
</li>
<li>A conditional, as in the examples above.</li>
</ul>
<p>The <em>col_indexer</em> argument is used to select one or more columns. It will typically be a list of column names and can be omitted, in which case all columns will be returned.</p>
<div id="callout2" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>The row labels in this dataframe happen to be numeric and aligned exactly to the row’s index (so for the first row both the index and the label are 0, for the second row both the index and the label are 1, etc.) This is often <strong>but not always</strong> true in pandas. For example, if we used record_id as the label, the row labels would be one-based and the row indexes would be zero-based.</p>
</div>
</div>
</div>
<div id="callout3" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>Slices using <code>loc</code> are inclusive–rows matching both the start and end values are included in the returned slice. This differs from list slices, where the start but not end value is included in the slice. <code>loc</code> works this way because it is looking at the row <em>label</em>, not the row <em>index</em>.</p>
</div>
</div>
</div>
<p>We’ll be making some changes to our data, so let’s work from a copy instead of modifying the original:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>surveys_copy <span class="op">=</span> surveys.copy()</span></code></pre>
</div>
<p>To select a subset of rows and columns using <code>loc</code>, use:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>surveys_copy.loc[</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>:<span class="dv">5</span>, <span class="st">"species_id"</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>]  <span class="co"># note that we use 2:5 with loc (end index included)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2    DM
3    DM
4    DM
5    PF
Name: species_id, dtype: object</code></pre>
</div>
<p>Unlike the methods earlier in the lesson, this is a view, not a copy, of the data in the surveys_copy dataframe. We can now assign a new value to the species_id column in the matching rows of the original dataframe:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>surveys_copy.loc[<span class="dv">2</span>:<span class="dv">5</span>, <span class="st">"species_id"</span>] <span class="op">=</span> <span class="st">"CAT"</span></span></code></pre>
</div>
<p>We can see that these changes are reflected in the original surveys_copy object:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>surveys_copy.loc[<span class="dv">1</span>:<span class="dv">6</span>, <span class="st">"species_id"</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>1     NL
2    CAT
3    CAT
4    CAT
5    CAT
6     PE
Name: species_id, dtype: object</code></pre>
</div>
<div id="callout4" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p><code>pandas</code> provides another indexer, <code>iloc</code>, that allows you to select and modify data using row and column indexes instead of labels. Learn more in the <a href="https://pandas.pydata.org/pandas-%20docs/stable/reference/api/pandas.DataFrame.iloc.html" class="external-link"><code>pandas</code> documentation</a>.</p>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>
</section></section><section id="aio-04-aggregating-and-grouping-data"><p>Content from <a href="04-aggregating-and-grouping-data.html">Aggregating and Grouping Data</a></p>
<hr>
<p> Last updated on 2022-05-16 | <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/04-aggregating-and-grouping-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do we calculate statistics using pandas?</li>
<li>How do we group data using pandas?</li>
<li>How do null values affect calculations using pandas?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Introduce aggregation calculations in pandas</li>
<li>Introduce grouping in pandas</li>
<li>Learn about how pandas handles null values</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>As always, we’ll begin by importing pandas and reading our CSV:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span></code></pre>
</div>
<section id="aggregating-data"><h2 class="section-heading">Aggregating data</h2>
<hr class="half-width">
<p>Aggregation allows us to combine results by grouping records based on value. It is also useful for calculating combined values in groups.</p>
<p>Let’s go to the surveys table and find out how many observations are in our dataset. We’ve already seen that we can use the <code>info()</code> method to get high-level about the dataset, including the number of entries. What if just wanted the number of rows? In that case, we can use the built-in function <code>len()</code>, which is used to calculate the number of items in an object (for example, the number of characters in a string or the number of items in a list). When used on a dataframe, <code>len()</code> returns the number of rows:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(surveys)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span class="fl">35549</span></code></pre>
</div>
<p><code>pandas</code> also provides a suite of aggregation methods. For example, we can find out the total weight of all the individuals in grams using <code>sum()</code>:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"weight"</span>].<span class="bu">sum</span>()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span class="fl">1377594.0</span></code></pre>
</div>
<p>Other aggregation methods supported by pandas include <code>min()</code>, <code>max()</code>, and <code>mean()</code>.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Calculate the total weight, average weight, minimum and maximum weights for all animals caught over the duration of the survey. Can you modify your code so that it outputs these values only for weights between 5 and 10 grams?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a subset of only the animals between 5 and 10 grams</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>weights <span class="op">=</span> surveys[(surveys[<span class="st">"weight"</span>] <span class="op">&gt;</span> <span class="dv">5</span>) <span class="op">&amp;</span> (surveys[<span class="st">"weight"</span>] <span class="op">&lt;</span> <span class="dv">10</span>)][<span class="st">"weight"</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display aggregation calculations using a dict</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"sum"</span>: weights.<span class="bu">sum</span>(),</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"mean"</span>: weights.mean(),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"min"</span>: weights.<span class="bu">min</span>(),</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"max"</span>: weights.<span class="bu">max</span>(),</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'sum': 16994.0, 'mean': 7.91523055426176, 'min': 6.0, 'max': 9.0}</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>To quickly generate summary statistics, we can use the <code>describe()</code> method. When you use this method on a dataframe, it calculates stats for all columns with numeric data:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>surveys.describe()</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
count
</th>
<td>
35549.000000
</td>
<td>
35549.000000
</td>
<td>
35549.000000
</td>
<td>
35549.000000
</td>
<td>
35549.000000
</td>
<td>
31438.000000
</td>
<td>
32283.000000
</td>
</tr>
<tr>
<th>
mean
</th>
<td>
17775.000000
</td>
<td>
6.477847
</td>
<td>
15.991195
</td>
<td>
1990.475231
</td>
<td>
11.397001
</td>
<td>
29.287932
</td>
<td>
42.672428
</td>
</tr>
<tr>
<th>
std
</th>
<td>
10262.256696
</td>
<td>
3.396925
</td>
<td>
8.257366
</td>
<td>
7.493355
</td>
<td>
6.799406
</td>
<td>
9.564759
</td>
<td>
36.631259
</td>
</tr>
<tr>
<th>
min
</th>
<td>
1.000000
</td>
<td>
1.000000
</td>
<td>
1.000000
</td>
<td>
1977.000000
</td>
<td>
1.000000
</td>
<td>
2.000000
</td>
<td>
4.000000
</td>
</tr>
<tr>
<th>
25%
</th>
<td>
8888.000000
</td>
<td>
4.000000
</td>
<td>
9.000000
</td>
<td>
1984.000000
</td>
<td>
5.000000
</td>
<td>
21.000000
</td>
<td>
20.000000
</td>
</tr>
<tr>
<th>
50%
</th>
<td>
17775.000000
</td>
<td>
6.000000
</td>
<td>
16.000000
</td>
<td>
1990.000000
</td>
<td>
11.000000
</td>
<td>
32.000000
</td>
<td>
37.000000
</td>
</tr>
<tr>
<th>
75%
</th>
<td>
26662.000000
</td>
<td>
10.000000
</td>
<td>
23.000000
</td>
<td>
1997.000000
</td>
<td>
17.000000
</td>
<td>
36.000000
</td>
<td>
48.000000
</td>
</tr>
<tr>
<th>
max
</th>
<td>
35549.000000
</td>
<td>
12.000000
</td>
<td>
31.000000
</td>
<td>
2002.000000
</td>
<td>
24.000000
</td>
<td>
70.000000
</td>
<td>
280.000000
</td>
</tr>
</tbody>
</table>
<p>You can see that <code>describe()</code> isn’t picky: It includes both ID and date columns in its results. Notice also that the counts differ in between columns. This is because <code>count()</code> only counts non-NaN rows.</p>
<p>If you prefer, you can also describe a single column at a time:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>surveys[<span class="st">"weight"</span>].describe()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>count    32283.000000
mean        42.672428
std         36.631259
min          4.000000
25%         20.000000
50%         37.000000
75%         48.000000
max        280.000000
Name: weight, dtype: float64</code></pre>
</div>
<p>If you need more control over the output (for example, if you want to calculate the total weight of all animals, as in the challenge above), pandas provides the <code>agg()</code> method:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>surveys.agg({<span class="st">"weight"</span>: [<span class="st">"sum"</span>, <span class="st">"mean"</span>, <span class="st">"min"</span>, <span class="st">"max"</span>]})</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
sum
</th>
<td>
1.377594e+06
</td>
</tr>
<tr>
<th>
mean
</th>
<td>
4.267243e+01
</td>
</tr>
<tr>
<th>
min
</th>
<td>
4.000000e+00
</td>
</tr>
<tr>
<th>
max
</th>
<td>
2.800000e+02
</td>
</tr>
</tbody>
</table></section><section id="grouping-data"><h2 class="section-heading">Grouping data</h2>
<hr class="half-width">
<p>Now, let’s see how many individuals were counted in each species. We do this using <code>groupby()</code>, which creates an object similar to a dataframe where rows are grouped by the data in one or more columns:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>grouped <span class="op">=</span> surveys.groupby(<span class="st">"species_id"</span>)</span></code></pre>
</div>
<p>When we aggregate the grouped data, <code>pandas</code> provides separate calculations for each member of the group. In the example below, we’ll calculate the number of times each species appears in the dataset:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>grouped[<span class="st">"species_id"</span>].count()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>species_id
AB      303
AH      437
AS        2
BA       46
CB       50
CM       13
CQ       16
CS        1
CT        1
CU        1
CV        1
DM    10596
DO     3027
DS     2504
DX       40
NL     1252
OL     1006
OT     2249
OX       12
PB     2891
PC       39
PE     1299
PF     1597
PG        8
PH       32
PI        9
PL       36
PM      899
PP     3123
PU        5
PX        6
RF       75
RM     2609
RO        8
RX        2
SA       75
SC        1
SF       43
SH      147
SO       43
SS      248
ST        1
SU        5
UL        4
UP        8
UR       10
US        4
ZL        2
Name: species_id, dtype: int64</code></pre>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Write statements that return:</p>
<ol style="list-style-type: decimal">
<li>How many individuals were counted in each year in total</li>
<li>How many were counted each year, for each different species</li>
<li>The average weights of each species in each year</li>
<li>How many individuals were counted for each species that was observed more than 10 times</li>
</ol>
<p>Can you get the answer to both 2 and 3 in a single query?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution to challenge 1
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Individual counts per year</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>surveys.groupby(<span class="st">"year"</span>)[<span class="st">"record_id"</span>].count()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>year
1977     503
1978    1048
1979     719
1980    1415
1981    1472
1982    1978
1983    1673
1984     981
1985    1438
1986     942
1987    1671
1988    1469
1989    1569
1990    1311
1991    1347
1992    1038
1993     750
1994     668
1995    1222
1996    1706
1997    2493
1998    1610
1999    1135
2000    1552
2001    1610
2002    2229
Name: record_id, dtype: int64</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution to challenge 2
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Individual counts by species and year</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>surveys.groupby([<span class="st">"year"</span>, <span class="st">"species_id"</span>])[<span class="st">"record_id"</span>].count()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>year  species_id
1977  DM            264
      DO             12
      DS             98
      NL             31
      OL             10
                   ... 
2002  SF              7
      SH             11
      SS              9
      UR              1
      US              4
Name: record_id, Length: 509, dtype: int64</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution to challenge 3
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean weight by species and year</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>surveys.groupby([<span class="st">"year"</span>, <span class="st">"species_id"</span>])[<span class="st">"weight"</span>].mean()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>year  species_id
1977  DM             41.141304
      DO             42.666667
      DS            121.437500
      NL                   NaN
      OL             21.666667
                       ...    
2002  SF             62.166667
      SH             64.666667
      SS                   NaN
      UR                   NaN
      US                   NaN
Name: weight, Length: 509, dtype: float64</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Show me the solution to challenge 4
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Counts by species that appear more than 10 times</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>species <span class="op">=</span> surveys.groupby(<span class="st">"species_id"</span>)[<span class="st">"record_id"</span>].count()</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>species[species <span class="op">&gt;</span> <span class="dv">10</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>species_id
AB      303
AH      437
BA       46
CB       50
CM       13
CQ       16
DM    10596
DO     3027
DS     2504
DX       40
NL     1252
OL     1006
OT     2249
OX       12
PB     2891
PC       39
PE     1299
PF     1597
PH       32
PL       36
PM      899
PP     3123
RF       75
RM     2609
SA       75
SF       43
SH      147
SO       43
SS      248
Name: record_id, dtype: int64</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Show me the solution to challenges 2 and 3 combined
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Counts and mean weight by species and year</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>surveys.groupby([<span class="st">"year"</span>, <span class="st">"species_id"</span>]).agg({<span class="st">"record_id"</span>: <span class="st">"count"</span>, <span class="st">"weight"</span>: <span class="st">"mean"</span>})</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
</th>
<th>
record_id
</th>
<th>
weight
</th>
</tr>
<tr>
<th>
year
</th>
<th>
species_id
</th>
<th>
</th>
<th>
</th>
</tr>
</thead>
<tbody>
<tr>
<th rowspan="5" valign="top">
1977
</th>
<th>
DM
</th>
<td>
264
</td>
<td>
41.141304
</td>
</tr>
<tr>
<th>
DO
</th>
<td>
12
</td>
<td>
42.666667
</td>
</tr>
<tr>
<th>
DS
</th>
<td>
98
</td>
<td>
121.437500
</td>
</tr>
<tr>
<th>
NL
</th>
<td>
31
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
OL
</th>
<td>
10
</td>
<td>
21.666667
</td>
</tr>
<tr>
<th>
…
</th>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th rowspan="5" valign="top">
2002
</th>
<th>
SF
</th>
<td>
7
</td>
<td>
62.166667
</td>
</tr>
<tr>
<th>
SH
</th>
<td>
11
</td>
<td>
64.666667
</td>
</tr>
<tr>
<th>
SS
</th>
<td>
9
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
UR
</th>
<td>
1
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
US
</th>
<td>
4
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
509 rows × 2 columns
</p>
</div>
</div>
</div>
</div>
</section><section id="handling-missing-data"><h2 class="section-heading">Handling missing data</h2>
<hr class="half-width">
<p>You may have noticed that some columns in the surveys dataframe have the value NaN instead of text or numbers. NaN, short for “not a number,” is a special type of float used by pandas to represent missing data. When reading from a CSV, as we have done throughout this lesson, pandas interprets certains values as NaN (see <em>na_values</em> in the <a href="https://pandas.pydata.org/pandas-%20docs/stable/reference/api/pandas.read_csv.html" class="external-link">pd.read_csv() documentation</a> for the default list). NaNs are excluded from most aggregation calculations in <code>pandas</code>, including counts.</p>
<p>It is crucial to understand how missing data is represented in your dataset. Failing to do so may introduce errors into your analysis. The ecology dataset used in this lesson uses empty cells to represent missing data, but other disciplines have different conventions. For example, some geographic datasets use -9999 to represent null values. Failure to convert that value to NaN would produce significant errors in any calculations performed on that dataset.</p>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-05-combining-data-with-joins"><p>Content from <a href="05-combining-data-with-joins.html">Combining Dataframes</a></p>
<hr>
<p> Last updated on 2022-05-16 | <a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/episodes/05-combining-data-with-joins.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do we combine data from multiple sources using pandas?</li>
<li>How do we add data to an existing dataframe?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use merge to add species info to the survey dataset</li>
<li>Use concat to add additional rows the dataset</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Dataframes are used to organize and group data by common characteristics or principles. Often, we need to combine elements from separate tables into a single tables or queries for analysis and visualization. A join allows use to combine two dataframes using values common to each.</p>
<p>The survey dataframe we’ve been using throughout this lesson has a column called species_id. We used this column in the previous lesson to calculate summary statistics about observations of each species. But the species_id is just a two-letter code–what does each code stand for? To find out, we’ll now load both the survey dataset and a second dataset containing more detailed information about the various species observed:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>surveys <span class="op">=</span> pd.read_csv(<span class="st">"data/surveys.csv"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>species <span class="op">=</span> pd.read_csv(<span class="st">"data/species.csv"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>species</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
species_id
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
AB
</td>
<td>
Amphispiza
</td>
<td>
bilineata
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
1
</th>
<td>
AH
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
2
</th>
<td>
AS
</td>
<td>
Ammodramus
</td>
<td>
savannarum
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
3
</th>
<td>
BA
</td>
<td>
Baiomys
</td>
<td>
taylori
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
4
</th>
<td>
CB
</td>
<td>
Campylorhynchus
</td>
<td>
brunneicapillus
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
5
</th>
<td>
CM
</td>
<td>
Calamospiza
</td>
<td>
melanocorys
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
6
</th>
<td>
CQ
</td>
<td>
Callipepla
</td>
<td>
squamata
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
7
</th>
<td>
CS
</td>
<td>
Crotalus
</td>
<td>
scutalatus
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
8
</th>
<td>
CT
</td>
<td>
Cnemidophorus
</td>
<td>
tigris
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
9
</th>
<td>
CU
</td>
<td>
Cnemidophorus
</td>
<td>
uniparens
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
10
</th>
<td>
CV
</td>
<td>
Crotalus
</td>
<td>
viridis
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
11
</th>
<td>
DM
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
12
</th>
<td>
DO
</td>
<td>
Dipodomys
</td>
<td>
ordii
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
13
</th>
<td>
DS
</td>
<td>
Dipodomys
</td>
<td>
spectabilis
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
14
</th>
<td>
DX
</td>
<td>
Dipodomys
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
15
</th>
<td>
EO
</td>
<td>
Eumeces
</td>
<td>
obsoletus
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
16
</th>
<td>
GS
</td>
<td>
Gambelia
</td>
<td>
silus
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
17
</th>
<td>
NL
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
18
</th>
<td>
NX
</td>
<td>
Neotoma
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
19
</th>
<td>
OL
</td>
<td>
Onychomys
</td>
<td>
leucogaster
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
20
</th>
<td>
OT
</td>
<td>
Onychomys
</td>
<td>
torridus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
21
</th>
<td>
OX
</td>
<td>
Onychomys
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
22
</th>
<td>
PB
</td>
<td>
Chaetodipus
</td>
<td>
baileyi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
23
</th>
<td>
PC
</td>
<td>
Pipilo
</td>
<td>
chlorurus
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
24
</th>
<td>
PE
</td>
<td>
Peromyscus
</td>
<td>
eremicus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
25
</th>
<td>
PF
</td>
<td>
Perognathus
</td>
<td>
flavus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
26
</th>
<td>
PG
</td>
<td>
Pooecetes
</td>
<td>
gramineus
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
27
</th>
<td>
PH
</td>
<td>
Perognathus
</td>
<td>
hispidus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
28
</th>
<td>
PI
</td>
<td>
Chaetodipus
</td>
<td>
intermedius
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
29
</th>
<td>
PL
</td>
<td>
Peromyscus
</td>
<td>
leucopus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
30
</th>
<td>
PM
</td>
<td>
Peromyscus
</td>
<td>
maniculatus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
31
</th>
<td>
PP
</td>
<td>
Chaetodipus
</td>
<td>
penicillatus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
32
</th>
<td>
PU
</td>
<td>
Pipilo
</td>
<td>
fuscus
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
33
</th>
<td>
PX
</td>
<td>
Chaetodipus
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
34
</th>
<td>
RF
</td>
<td>
Reithrodontomys
</td>
<td>
fulvescens
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35
</th>
<td>
RM
</td>
<td>
Reithrodontomys
</td>
<td>
megalotis
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
36
</th>
<td>
RO
</td>
<td>
Reithrodontomys
</td>
<td>
montanus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
37
</th>
<td>
RX
</td>
<td>
Reithrodontomys
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
38
</th>
<td>
SA
</td>
<td>
Sylvilagus
</td>
<td>
audubonii
</td>
<td>
Rabbit
</td>
</tr>
<tr>
<th>
39
</th>
<td>
SB
</td>
<td>
Spizella
</td>
<td>
breweri
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
40
</th>
<td>
SC
</td>
<td>
Sceloporus
</td>
<td>
clarki
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
41
</th>
<td>
SF
</td>
<td>
Sigmodon
</td>
<td>
fulviventer
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
42
</th>
<td>
SH
</td>
<td>
Sigmodon
</td>
<td>
hispidus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
43
</th>
<td>
SO
</td>
<td>
Sigmodon
</td>
<td>
ochrognathus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
44
</th>
<td>
SS
</td>
<td>
Spermophilus
</td>
<td>
spilosoma
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
45
</th>
<td>
ST
</td>
<td>
Spermophilus
</td>
<td>
tereticaudus
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
46
</th>
<td>
SU
</td>
<td>
Sceloporus
</td>
<td>
undulatus
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
47
</th>
<td>
SX
</td>
<td>
Sigmodon
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
48
</th>
<td>
UL
</td>
<td>
Lizard
</td>
<td>
sp.
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
49
</th>
<td>
UP
</td>
<td>
Pipilo
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
50
</th>
<td>
UR
</td>
<td>
Rodent
</td>
<td>
sp.
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
51
</th>
<td>
US
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
52
</th>
<td>
ZL
</td>
<td>
Zonotrichia
</td>
<td>
leucophrys
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
53
</th>
<td>
ZM
</td>
<td>
Zenaida
</td>
<td>
macroura
</td>
<td>
Bird
</td>
</tr>
</tbody>
</table>
<p>We can see that the species dataframe includes a genus, species, and taxon for each species_id. This is much more useful than the species_id included in the original dataframe–how can we add that data to our surveys dataframe? Adding it by hand would be tedious and error prone. Fortunately, <code>pandas</code> provides the <code>merge()</code> method to join two dataframes.</p>
<p>To merge the surveys and species dataframes, use:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>merged <span class="op">=</span> surveys.merge(species)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>merged</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
2
</th>
<td>
22
</td>
<td>
7
</td>
<td>
17
</td>
<td>
1977
</td>
<td>
15
</td>
<td>
NL
</td>
<td>
F
</td>
<td>
31.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
3
</th>
<td>
38
</td>
<td>
7
</td>
<td>
17
</td>
<td>
1977
</td>
<td>
17
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
4
</th>
<td>
72
</td>
<td>
8
</td>
<td>
19
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
31.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
34781
</th>
<td>
28988
</td>
<td>
12
</td>
<td>
23
</td>
<td>
1998
</td>
<td>
6
</td>
<td>
CT
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Cnemidophorus
</td>
<td>
tigris
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
34782
</th>
<td>
35512
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
11
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
34783
</th>
<td>
35513
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
11
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
34784
</th>
<td>
35528
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
13
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
34785
</th>
<td>
35544
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
</tbody>
</table>
<p>
34786 rows × 12 columns
</p>
<p>Following the merge, the genus, species, and taxa columns have all been added to the survey dataframe. We can now use those columns to filter and summarize our data.</p>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout</h3>
<div class="callout-content">
<p>The <code>pd.merge()</code> method is equivalent to the JOIN operation in SQL</p>
</div>
</div>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Filter the merged dataframe to show the genus, the species name, and the weight for every individual captured at the site</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>merged[[<span class="st">"genus"</span>, <span class="st">"species"</span>, <span class="st">"weight"</span>]]</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
34781
</th>
<td>
Cnemidophorus
</td>
<td>
tigris
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
34782
</th>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
34783
</th>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
34784
</th>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
34785
</th>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
34786 rows × 3 columns
</p>
</div>
</div>
</div>
</div>
<p>In the example above, we didn’t provide any information about how we wanted to merge the dataframes together, so pandas made an educated guess. It looked at the columns in each of the dataframes, then merged them based on the columns that appear in both. Here, the only shared name is species_id. If we want to control what columns are used to merge, we can use the <em>on</em> keyword argument:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>surveys.merge(species, on<span class="op">=</span><span class="st">"species_id"</span>)</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
2
</th>
<td>
22
</td>
<td>
7
</td>
<td>
17
</td>
<td>
1977
</td>
<td>
15
</td>
<td>
NL
</td>
<td>
F
</td>
<td>
31.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
3
</th>
<td>
38
</td>
<td>
7
</td>
<td>
17
</td>
<td>
1977
</td>
<td>
17
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
4
</th>
<td>
72
</td>
<td>
8
</td>
<td>
19
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
31.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
34781
</th>
<td>
28988
</td>
<td>
12
</td>
<td>
23
</td>
<td>
1998
</td>
<td>
6
</td>
<td>
CT
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Cnemidophorus
</td>
<td>
tigris
</td>
<td>
Reptile
</td>
</tr>
<tr>
<th>
34782
</th>
<td>
35512
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
11
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
34783
</th>
<td>
35513
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
11
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
34784
</th>
<td>
35528
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
13
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
<tr>
<th>
34785
</th>
<td>
35544
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
US
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Sparrow
</td>
<td>
sp.
</td>
<td>
Bird
</td>
</tr>
</tbody>
</table>
<p>
34786 rows × 12 columns
</p>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Compare the number of rows in the original and merged survey dataframes. How do they differ? Why do you think that might be?</p>
<p><strong>Hint:</strong> Use <code>pd.unique()</code> method to look at the species_id column in each dataframe.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Some columns in survey are missing species_id</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span>(surveys[<span class="st">"species_id"</span>]) <span class="op">-</span> <span class="bu">set</span>(species[<span class="st">"species_id"</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span class="op">{</span><span class="va">nan</span><span class="op">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>In practice, the values in the columns used to join two dataframes may not align exactly. Above, the surveys dataframe contains a few hundred rows where species_id is NaN. These are the rows that were dropped when the dataframes were merged.</p>
<p>By default, <code>merge()</code> performs an <strong>inner join</strong>. This means that a row will only appear if the value in the shared column appears in both of the datasets being merged. In this case, that means that survey observations that don’t have a species_id or have a species_id that does not appear in the species dataframe will be dropped.</p>
<p>This is not always desirable behavior. Fortunately, <code>pandas</code> allows us to control how the merge is done.</p>
<ul>
<li>
<strong>Inner:</strong> Includes all rows with common values in the join column</li>
<li>
<strong>Left:</strong> Include all rows from the left dataframe. Columns from the right dataframe are populated if a common value exists and set to NaN if not.</li>
<li>
<strong>Right:</strong> Include all rows from the right dataframe. Columns from the left dataframe are populated if a common value exists and set to NaN if not.</li>
<li>
<strong>Outer:</strong> Includes all rows from both dataframes</li>
</ul>
<p>We want to keep all of our observations, so let’s do a left join instead. To specify the type of merge, we use the <em>how</em> keyword argument:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>surveys.merge(species, how<span class="op">=</span><span class="st">"left"</span>)</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
genus
</th>
<th>
species
</th>
<th>
taxa
</th>
</tr></thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
32.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
1
</th>
<td>
2
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
NL
</td>
<td>
M
</td>
<td>
33.0
</td>
<td>
NaN
</td>
<td>
Neotoma
</td>
<td>
albigula
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
2
</th>
<td>
3
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
2
</td>
<td>
DM
</td>
<td>
F
</td>
<td>
37.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
3
</th>
<td>
4
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
7
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
4
</th>
<td>
5
</td>
<td>
7
</td>
<td>
16
</td>
<td>
1977
</td>
<td>
3
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
NaN
</td>
<td>
Dipodomys
</td>
<td>
merriami
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
Ammospermophilus
</td>
<td>
harrisi
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
Reithrodontomys
</td>
<td>
megalotis
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
Dipodomys
</td>
<td>
ordii
</td>
<td>
Rodent
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
35549 rows × 12 columns
</p>
<p>Now all 35,549 rows appear in the merged dataframe.</p>
<section id="appending-rows-to-a-dataframe"><h2 class="section-heading">Appending rows to a dataframe</h2>
<hr class="half-width">
<p>Merges address the case where information about the same set of observations is spread across multiple files. What about when the observations themselves are split into more than one file? For a survey like the one we’ve been looking at in this lesson, we might get a new file once a year with the same columns that represent a completely new set of observations. How can we add those new observations to our dataframe?</p>
<p>We’ll simulate this kind of thing by splitting two years worth of data into separate dataframes. We can do this using conditionals, as we saw in lesson 3:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>surveys_2001 <span class="op">=</span> surveys[surveys[<span class="st">"year"</span>] <span class="op">==</span> <span class="dv">2001</span>].copy()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>surveys_2001</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
31710
</th>
<td>
31711
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
F
</td>
<td>
26.0
</td>
<td>
25.0
</td>
</tr>
<tr>
<th>
31711
</th>
<td>
31712
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
43.0
</td>
</tr>
<tr>
<th>
31712
</th>
<td>
31713
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
M
</td>
<td>
29.0
</td>
<td>
44.0
</td>
</tr>
<tr>
<th>
31713
</th>
<td>
31714
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
53.0
</td>
</tr>
<tr>
<th>
31714
</th>
<td>
31715
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
2
</td>
<td>
OT
</td>
<td>
M
</td>
<td>
20.0
</td>
<td>
27.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
33315
</th>
<td>
33316
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
11
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33316
</th>
<td>
33317
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
13
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33317
</th>
<td>
33318
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
14
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33318
</th>
<td>
33319
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
15
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33319
</th>
<td>
33320
</td>
<td>
12
</td>
<td>
16
</td>
<td>
2001
</td>
<td>
16
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
1610 rows × 9 columns
</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>surveys_2002 <span class="op">=</span> surveys[surveys[<span class="st">"year"</span>] <span class="op">==</span> <span class="dv">2002</span>].copy()</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>surveys_2002</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
33320
</th>
<td>
33321
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
38.0
</td>
<td>
44.0
</td>
</tr>
<tr>
<th>
33321
</th>
<td>
33322
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
58.0
</td>
</tr>
<tr>
<th>
33322
</th>
<td>
33323
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
M
</td>
<td>
28.0
</td>
<td>
45.0
</td>
</tr>
<tr>
<th>
33323
</th>
<td>
33324
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
AB
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
33324
</th>
<td>
33325
</td>
<td>
1
</td>
<td>
12
</td>
<td>
2002
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
35.0
</td>
<td>
29.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
2229 rows × 9 columns
</p>
<p>We now have two different dataframes with the same columns but different data, one with 1,610 rows, the other with 2,229 rows. We can combine them using <code>pd.concat()</code>, which stacks the dataframes horizontally (that is, it appends the 2002 dataset to the 2001 dataset):</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>surveys_2001_2002 <span class="op">=</span> pd.concat([surveys_2001, surveys_2002])</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>surveys_2001_2002</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
</tr></thead>
<tbody>
<tr>
<th>
31710
</th>
<td>
31711
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
F
</td>
<td>
26.0
</td>
<td>
25.0
</td>
</tr>
<tr>
<th>
31711
</th>
<td>
31712
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
43.0
</td>
</tr>
<tr>
<th>
31712
</th>
<td>
31713
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
M
</td>
<td>
29.0
</td>
<td>
44.0
</td>
</tr>
<tr>
<th>
31713
</th>
<td>
31714
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
53.0
</td>
</tr>
<tr>
<th>
31714
</th>
<td>
31715
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
2
</td>
<td>
OT
</td>
<td>
M
</td>
<td>
20.0
</td>
<td>
27.0
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
3839 rows × 9 columns
</p>
<p>The combined dataframe includes all rows from both dataframes.</p>
<p>In some cases, the exact columns may change from year to year even within the same project. For example, researchers may decide to add an additional column to track a new piece of data or to provide a quality check. If a column is present in only one dataset, you can still concatenate the datasets. Any column that does not appear in one of the datasets will be set to NaN for those rows in the combined dataframe.</p>
<p>To illustrate this, we’ll add a validated column to the 2002 survey, then re-run <code>pd.concat()</code>:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>surveys_2002[<span class="st">"validated"</span>] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>surveys_2001_2002 <span class="op">=</span> pd.concat([surveys_2001, surveys_2002])</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>surveys_2001_2002</span></code></pre>
</div>
<style>
  table.dataframe tbody tr:hover { background-color: #ccffff !important; }
  table.dataframe tr:nth-child(even) { background-color: #f5f5f5; }
  table.dataframe th { text-align: right; font-weight: bold; }
  table.dataframe td { text-align: right; }
</style>
<table border="1" class="table dataframe">
<thead><tr style="text-align: right;">
<th>
</th>
<th>
record_id
</th>
<th>
month
</th>
<th>
day
</th>
<th>
year
</th>
<th>
plot_id
</th>
<th>
species_id
</th>
<th>
sex
</th>
<th>
hindfoot_length
</th>
<th>
weight
</th>
<th>
validated
</th>
</tr></thead>
<tbody>
<tr>
<th>
31710
</th>
<td>
31711
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
F
</td>
<td>
26.0
</td>
<td>
25.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
31711
</th>
<td>
31712
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DM
</td>
<td>
M
</td>
<td>
37.0
</td>
<td>
43.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
31712
</th>
<td>
31713
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
PB
</td>
<td>
M
</td>
<td>
29.0
</td>
<td>
44.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
31713
</th>
<td>
31714
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
1
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
34.0
</td>
<td>
53.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
31714
</th>
<td>
31715
</td>
<td>
1
</td>
<td>
21
</td>
<td>
2001
</td>
<td>
2
</td>
<td>
OT
</td>
<td>
M
</td>
<td>
20.0
</td>
<td>
27.0
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
35544
</th>
<td>
35545
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
True
</td>
</tr>
<tr>
<th>
35545
</th>
<td>
35546
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
15
</td>
<td>
AH
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
True
</td>
</tr>
<tr>
<th>
35546
</th>
<td>
35547
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
10
</td>
<td>
RM
</td>
<td>
F
</td>
<td>
15.0
</td>
<td>
14.0
</td>
<td>
True
</td>
</tr>
<tr>
<th>
35547
</th>
<td>
35548
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
7
</td>
<td>
DO
</td>
<td>
M
</td>
<td>
36.0
</td>
<td>
51.0
</td>
<td>
True
</td>
</tr>
<tr>
<th>
35548
</th>
<td>
35549
</td>
<td>
12
</td>
<td>
31
</td>
<td>
2002
</td>
<td>
5
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
True
</td>
</tr>
</tbody>
</table>
<p>
3839 rows × 10 columns
</p>
<p>As expected, validated has a value of NaN for the 2001 data in the combined dataframe.</p>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
				<p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
				<p><a href="https://github.com/adamancer/python-ecology-lesson-alt/edit/main/README.md" class="external-link">Edit on Github</a> | <a href="https://github.com/adamancer/python-ecology-lesson-alt/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a> | <a href="https://github.com/adamancer/python-ecology-lesson-alt/" class="external-link">Source</a></p>
				<p><a href="https://github.com/adamancer/python-ecology-lesson-alt/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:mansura@si.edu">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="../LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">Template licensed under CC-BY 4.0</a> by <a href="https://carpentries.org" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.5.5" class="external-link">sandpaper (0.5.5)</a>,
        <a href="https://github.com/carpentries/pegboard" class="external-link">pegboard (0.2.7)</a>,
      and <a href="https://github.com/carpentries/varnish/tree/0.1.13" class="external-link">varnish (0.1.13)</a>.</p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
			<i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back to top"></i><br><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://adamancer.github.io/python-ecology-lesson-alt/instructor/aio.html",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/0.9-DRAFT-2020_12_08",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "python, pandas, software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://adamancer.github.io/python-ecology-lesson-alt/instructor/aio.html",
  "identifier": "https://adamancer.github.io/python-ecology-lesson-alt/instructor/aio.html",
  "dateCreated": "2022-05-10",
  "dateModified": "2022-05-24",
  "datePublished": "2022-05-24"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(['trackPageView']);
          _paq.push(['enableLinkTracking']);
          (function() {
              var u="https://carpentries.matomo.cloud/";
              _paq.push(['setTrackerUrl', u+'matomo.php']);
              _paq.push(['setSiteId', '1']);
              var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
              g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

